{% extends 'base.html' %}
{% block page-title %}Departments{% endblock %}
{% block title %}Departments{% endblock %}

{% block content %}
    <div class="card mb-2">
        <div class="card-body fs-6 py-15 px-10 py-lg-15 px-lg-15 text-gray-700">
            <div class="row g-5">
                <h1 class="anchor fw-bolder mb-5" id="departments">Departments</h1>
                {% for department in object_list %}

                    <div class="col-lg-4">
                        <div class="card card-stretch card-bordered mb-5 department hover-3d {% if department.appointments.count == 0 %}disabled{% endif %}">

                            <div class="card-body p-0">
                                {% if  department.picture %}
                                    <img class="card-image" src="{{ department.picture.url }}" alt="">
                                {% endif %}
                                <div class="p-5">
                                    <div class="department-header border-bottom mb-4 pb-4">
                                        <h3 class="card-title m-0">{{ department.name }}</h3>
                                        <div class="card-toolbar m-0">
                                            <span type="button"
                                                  class="btn border btn-sm btn-light-{% if department.appointments.count == 0 %}dark disabled{% else %}success{% endif %}">{{ department.appointments.count }}
                                                available
                                            </span>
                                        </div>
                                    </div>
                                    <a href="{% url 'department' department.id %}"
                                       class="btn w-100 btn-primary {% if department.appointments.count == 0 %}disabled{% endif %}">View
                                        appointments
                                    </a>
                                </div>
                            </div>

                        </div>
                    </div>

                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}